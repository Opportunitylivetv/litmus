C atomic_dec_and_test-is-atomic

(* Expected result: never. *)

{
	x = 2;
}

P0(atomic_t *x)
{
	int r1;

	r1 = atomic_dec_and_test(x);
}

P1(atomic_t *x)
{
	int r2;

	r2 = atomic_dec_and_test(x);
}

exists (x!=0 \/ 0:r1=1:r2)
